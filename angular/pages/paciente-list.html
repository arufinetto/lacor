<div ng-controller="pacienteController">
	
	Filtrar: 
	<div class="input-group" ng-init="pacienteList=getPacientes(1)">
		<input class="form-control" type="text" ng-model="nombrePaciente" placeholder="Ingrese el nombre o apellido del paciente"/>
		<span class="btn btn-info input-group-addon" id="basic-addon2" ng-click="search()" ng-disabled="isEmpty(nombrePaciente)">Buscar</span>
   </div>
	<br/>
	<table class="table table-striped" >
		<thead>
		 <tr>
				<td><b>Apellido</b></td>
				<td><b>Nombre</b></td>
				<td><b>Edad</b></td>
				<td><b>Tipo de Documento</b></td>
				<td><b>Numero de Documento</b></td>
			</tr>
		</thead>
		<tbody ng-repeat="paciente in pacienteList track by $index">
			<tr>
				<td>{{paciente.apellido}}</td>
				<td>{{paciente.nombre}}</td>
				<td>{{calcularEdad(paciente.fechaNacimiento)}} años</td>
				<td>{{paciente.tipoDocumento}}</td>
				<td>{{paciente.documento}}</td>
				<td><button ng-click="#row($index)" class="btn btn-xs  btn-info" data-toggle="collapse" data-target="#row{{$index}}">Editar</button></td>
				<!--<td><button ng-click="#row($index)" class="btn btn-xs  btn-info" data-toggle="collapse" data-target="#row1{{$index}}">Obra Social</button></td>-->
				<td><button ng-click="validatePaciente(paciente)" class="btn btn-xs  btn-danger" data-toggle="collapse" >Eliminar!</button></td>
			</tr>
			<tr id="row{{$index}}" class="collapse">
				<td colspan="12">
					<table class="table table-responsive"> 

					<tbody >
						
						<tr><td>Apellido:</td><td><input placeholder="Apellido"  class="form-control" type="text" ng-model="paciente.apellido"/></td></tr>
						<tr><td>Nombre:</td><td><input placeholder="Nombre"  class="form-control" type="text" ng-model="paciente.nombre"/></td></tr>
							
						<tr><td>Tipo Documento:</td><td><select  class="form-control" ng-model="paciente.tipoDocumento">
								<option ng-value={{tipoDocumento.nombre}}></option>
								<option ng-value={{tipoDocumento.nombre}}>DNI</option>
								<option ng-value={{tipoDocumento.nombre}}>LC</option>
								<option ng-value={{tipoDocumento.nombre}}>LE</option>
							</select></td></tr>
							<tr><td>Documento:</td><td><input placeholder="Documento"  class="form-control" type="text" ng-model="paciente.documento"/></td></tr>
							<tr><td>Medicacion:</td><td><input placeholder="Medicacion"  class="form-control" type="text" ng-model="paciente.medicacion"/><td></tr>
							<tr><td>Fecha de Nacimiento:</td><td><input placeholder="Fecha de Nacimiento"  class="form-control" type="text" ng-model="paciente.fechaNacimiento"/><td></tr>
						   <tr><td>Telefono:</td><td><input placeholder="Telefono"  class="form-control" type="text" ng-model="paciente.telefono"/><td></tr>

						<tr ng-controller="muestraMetodoController"><td>Localidad:</td><td><select  class="form-control" ng-options="ciudad.nombre as ciudad.nombre for ciudad in ciudades" ng-model="paciente.ciudad">
								<option ng-value={{ciudad.nombre}}>{{ciudad.nombre}}</option>
							</select></td></tr>
							<tr><td>Domicilio:</td><td><input placeholder="Domicilio" class="form-control" type="text" ng-model="paciente.domicilio"/></td></tr>
							<tr><td>Celular:</td><td><input placeholder="Celular" class="form-control" type="text" ng-model="paciente.celular"/></td></tr>							
							<tr><td>Email:</td><td><input placeholder="Email" class="form-control" type="text" ng-model="paciente.email"/></td></tr>
							<tr><td>Obra Social:</td><td><select  class="form-control" ng-options="prestador.nombre as prestador.nombre for prestador in prestadore" ></td> </tr>
							<tr><td><button type="button" class="btn btn-xs btn-info pull-right" ng-click="agregarObraSocial(paciente,obraSocial, afiliado)"  data-target="#row1{{$index}}">Agregar</button></td></tr>
						
							
					</tbody>
	
					</table>
					<button type="button" class="btn btn-primary pull-right" ng-click="updatePaciente(paciente)" data-toggle="collapse" data-target="#row{{$index}}">Guardar</button>	
					 
				</td>
				
			</tr>
			
			
			<!--<tr id="row1{{$index}}" class="collapse">
				<td colspan="12">
				<table class="table table-responsive"> 

				<tbody>
					<tr><td>Obra Social:</td><td><select  class="form-control" ng-options="prestador.nombre as prestador.nombre for prestador in prestadores" ng-model="obraSocial">
									<option ng-value={{prestador.nombre}}>{{prestador.nombre}}</option>
								</select></td></tr>
					<tr><td>Numero de Afiliado:</td><td><input ng-model="afiliado" placeholder="Numero de afiliado" class="form-control" type="text" ng-model="paciente.afiliado"/></td></tr>
				   
				   <tr><td></td><td><button type="button" class="btn btn-xs btn-info pull-right" ng-click="agregarObraSocial(paciente,obraSocial, afiliado)"  data-target="#row1{{$index}}">Agregar</button></td></tr>
					
					<tr><td></td><td><table class="table table-bordered table-striped"  >
									<tbody ng-repeat="obraSocial in paciente.obraSocial track by $index">
									<tr><td >{{obraSocial.obraSocial}} - {{obraSocial.afiliado}}</td></tr>
									</tbody>
								</table>
					</td></tr>
				</tbody>
				</table>
					
					<button type="button" class="btn btn-primary pull-right" ng-click="updatePaciente(paciente)" data-toggle="collapse" data-target="#row1{{$index}}">Guardar</button>
				</td>
				
			</tr>-->
		</tbody>
		
	</table>
	 <ul uib-pagination class="pull-center" total-items="totalItems" items-per-page="page" ng-model="currentPage" previous-text="Anterior" next-text="Siguiente" ng-change="pacienteList=getPacientes(currentPage)" ></ul> 
	</div>
	   <!-- <div class="panel-footer">
                <div class="row">
                  <div class="col col-xs-4">Pagina 1 de 5
                  </div>
                  <div class="col col-xs-8">
                    <ul class="pagination hidden-xs pull-right">
                      <li><a href="#" ng-click="pacienteList=getPacientes(1)">1</a></li>
                      <li><a ng-click="pacienteList=getPacientes(2)">2</a></li>
                      <li><a href="#">3</a></li>
                      <li><a href="#">4</a></li>
                      <li><a href="#">5</a></li>
                    </ul>
                    <ul class="pagination visible-xs pull-right">
                        <li><a href="#">«</a></li>
                        <li><a href="#">»</a></li>
                    </ul>
                  </div>
                </div>
              </div>-->	

			  
</div>
